<h1>投稿詳細ページ</h1>
<h3><%= @tweet.user.nickname %>さんのtweet詳細</h3>
<h3><%= @tweet.text %></h3>

<%# @tweetの持ついいねの数を.countで数えている %>
<h3>いいね件数: <%= @tweet.likes.count %></h3>

<%# ログインユーザーはすでにいいねを押しているかを@tweetを対象に判定する %>
<% if current_user.already_liked?(@tweet) %>
  <%= button_to 'いいねを取り消す', tweet_like_path(@tweet), method: :delete %>
<% else %>
  <%= button_to 'いいね', tweet_likes_path(@tweet) %>
<% end %>

<%# いいねをしたユーザーを@tweetの持つuser情報から表示する %>
<h2>いいねしたユーザー</h2>
<% @tweet.liked_users.each do |user| %>
  <li><%= user.nickname %>さん</li>
<% end %>

<%= link_to "ホームへ戻る", tweets_path %>